"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["3844"],{77984:function(e,t,l){l.d(t,{F:()=>r});var s=l(68271),i=l(94821),a=l(76882);let r=()=>{let{t:e}=a.Z.global,{copy:t,isSupported:l,copied:r}=(0,i.VPI)({legacy:!0});return{copied:r,copyText:async function(i){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!i)return void s.v0.error(e("common.useCopy.noText"));l.value?(await t(i),a&&s.v0.success(e("common.useCopy.success"))):s.v0.error(e("common.useCopy.failed"))}}}},51634:function(e,t,l){l.r(t),l.d(t,{default:()=>tu});var s=l(58786),i=l(30989),a=l(7356),r=l(88168);function n(e,t){let l=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return l<0?-1:l>0?1:l}var o=l(68271),d=l(34541);let{t:c}=l(76882).Z.global,m=()=>d.e.get("/settings/get_system_config"),u=()=>d.e.get("/settings/get_timezone_list"),v=e=>d.e.post("/settings/set_system_config_key",e,{fetchOptions:{loading:c("settings.api.loading.setting"),successMessage:!0}}),p=e=>d.e.post("/settings/set_ssl_config",e,{fetchOptions:{loading:c("settings.api.loading.settingSSL"),successMessage:!0}}),g=()=>d.e.post("/ssl/console_apply_cert",{},{fetchOptions:{loading:c("settings.api.loading.applyingCert"),successMessage:!0}}),_=e=>d.e.post("/settings/add_ip_whitelist",e,{fetchOptions:{loading:c("settings.api.loading.adding"),successMessage:!0}}),w=e=>d.e.post("/settings/delete_ip_whitelist",e,{fetchOptions:{loading:c("settings.api.loading.deleting"),successMessage:!0}}),h=()=>d.e.post("/settings/set_ip_whitelist",{ip_list:[]},{fetchOptions:{loading:c("settings.api.loading.clearing"),successMessage:!0}}),f=e=>d.e.post("/settings/set_reverse_proxy_domain",e,{fetchOptions:{loading:c("settings.api.loading.setting"),successMessage:!0}}),x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.e.post("/settings/delete_reverse_proxy_domain",e,{fetchOptions:{loading:c("settings.api.loading.clearing"),successMessage:!0}})},b=(0,i.Q_)("SettingsCommonStore",()=>{let e=(0,s.iH)(""),t=(0,s.iH)(!1),l=(0,s.iH)({level:"weak",score:0}),i=(0,s.iH)(""),d=(0,s.qj)({username:"",newPassword:"",confirmPassword:"",securityPath:""}),c=(0,s.qj)({domain:"",sslEnabled:!0,sslCert:"",sslKey:""}),u=(0,s.qj)({status:!1,expireTime:"",expireDays:0}),v=(0,s.iH)(""),p=(0,s.iH)(""),g=(0,s.iH)(""),_=(0,s.iH)(""),w=(0,s.iH)(""),h=(0,s.iH)(""),f=(0,s.iH)(!1),x=(0,s.iH)([]),b=(0,s.iH)(""),y=async()=>{let t=await m();if((0,o.Kn)(t)){if(e.value=t.admin_username,i.value=t.safe_path,v.value=t.billionmail_hostname,h.value=t.server_ip,f.value=t.ip_whitelist_enable,x.value=t.ip_whitelist,t.manage_ports&&(p.value=`${t.manage_ports.https}`,g.value=t.manage_ports.command_https),t.manage_timezone&&(_.value=t.manage_timezone.timezone,w.value=t.manage_timezone.command),t.ssl){c.sslCert=t.ssl.certPem,c.sslKey=t.ssl.privateKey,u.status=t.ssl.status;let e=new Date(t.ssl.notAfter);u.expireTime=(0,o.mr)(e,"yyyy-MM-dd"),u.expireDays=function(e,t,l){let[s,i]=(0,a.d)(void 0,e,t),o=n(s,i),d=Math.abs((0,r.w)(s,i));s.setDate(s.getDate()-o*d);let c=Number(n(s,i)===-o),m=o*(d-c);return 0===m?0:m}(e,new Date)}t.reverse_proxy_domain&&(b.value=t.reverse_proxy_domain.reverse_proxy||t.reverse_proxy_domain.current_url)}};return{currentUsername:e,currentPath:i,passwordMismatch:t,passwordStrength:l,securityForm:d,networkForm:c,sslInfo:u,currentDomain:v,currentPort:p,portCommand:g,currentTime:_,timeCommand:w,serverIp:h,ipWhitelistEnable:f,ipWhitelistList:x,currentProxy:b,checkPasswordStrength:()=>{let e=d.newPassword,t=0;e.length>=8&&t++,e.match(/[a-z]/)&&t++,e.match(/[A-Z]/)&&t++,e.match(/[0-9]/)&&t++,e.match(/[^a-zA-Z0-9]/)&&t++,t<=2?l.value={level:"weak",score:t}:t<=4?l.value={level:"medium",score:t}:l.value={level:"strong",score:t}},getCommonConfig:y,reset:()=>{d.username="",d.newPassword="",d.confirmPassword="",d.securityPath="",c.domain="",c.sslEnabled=!0,c.sslCert="",c.sslKey="",u.status=!1,u.expireTime="",u.expireDays=0,p.value="",g.value="",_.value="",w.value="",h.value="",t.value=!1,l.value={level:"weak",score:0}}}}),y=()=>{let e=b();return{...e,...(0,i.Jk)(e)}};var U=l(57869),S=l(98048),k=l(56946),W=l(54470),z=l(53198),P=l(20538),Z=l(71309);let C=(0,Z.cB)("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[(0,Z.u4)("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[(0,Z.u4)("no-title",`
 display: flex;
 align-items: center;
 `)]),(0,Z.cE)("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),(0,Z.cM)("title-position-left",[(0,Z.cE)("line",[(0,Z.cM)("left",{width:"28px"})])]),(0,Z.cM)("title-position-right",[(0,Z.cE)("line",[(0,Z.cM)("right",{width:"28px"})])]),(0,Z.cM)("dashed",[(0,Z.cE)("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),(0,Z.cM)("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),(0,Z.cE)("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),(0,Z.u4)("dashed",[(0,Z.cE)("line",{backgroundColor:"var(--n-color)"})]),(0,Z.cM)("dashed",[(0,Z.cE)("line",{borderColor:"var(--n-color)"})]),(0,Z.cM)("vertical",{backgroundColor:"var(--n-color)"})]),$=Object.assign(Object.assign({},k.Z.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),E=(0,s.aZ)({name:"Divider",props:$,setup(e){let{mergedClsPrefixRef:t,inlineThemeDisabled:l}=(0,W.ZP)(e),i=(0,k.Z)("Divider","-divider",C,P.Z,e,t),a=(0,s.Fl)(()=>{let{common:{cubicBezierEaseInOut:e},self:{color:t,textColor:l,fontWeight:s}}=i.value;return{"--n-bezier":e,"--n-color":t,"--n-text-color":l,"--n-font-weight":s}}),r=l?(0,z.F)("divider",void 0,a,e):void 0;return{mergedClsPrefix:t,cssVars:l?void 0:a,themeClass:null==r?void 0:r.themeClass,onRender:null==r?void 0:r.onRender}},render(){var e;let{$slots:t,titlePlacement:l,vertical:i,dashed:a,cssVars:r,mergedClsPrefix:n}=this;return null==(e=this.onRender)||e.call(this),(0,s.h)("div",{role:"separator",class:[`${n}-divider`,this.themeClass,{[`${n}-divider--vertical`]:i,[`${n}-divider--no-title`]:!t.default,[`${n}-divider--dashed`]:a,[`${n}-divider--title-position-${l}`]:t.default&&l}],style:r},i?null:(0,s.h)("div",{class:`${n}-divider__line ${n}-divider__line--left`}),!i&&t.default?(0,s.h)(s.HY,null,(0,s.h)("div",{class:`${n}-divider__title`},this.$slots),(0,s.h)("div",{class:`${n}-divider__line ${n}-divider__line--right`})):null)}});var D=l(56357),H=l(15496),M=l(6455),T=l(73084),R=l(52495);let O={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},j={class:"mt-1 text-xs text-desc"},B={class:"mt-1 text-xs text-desc"},F={class:"mt-4px"},q=(0,s.aZ)({__name:"UsernameSettings",setup(e,t){let{expose:l}=t,{t:i}=(0,R.QT)(),{currentUsername:a,securityForm:r}=y(),n=(0,s.AE)("formItemRef"),o=async()=>{var e;await (null==(e=n.value)?void 0:e.validate()),await v({key:"admin_username",value:r.value.username}),a.value=r.value.username,r.value.username=""};return l({rules:{username:{trigger:["blur","input"],validator:()=>{let{username:e}=r.value;return e.length<4||e.length>20?Error(i("settings.common.security.usernameValidation.lengthError")):/^[a-zA-Z0-9_]+$/.test(e)?e!==a.value||Error(i("settings.common.security.usernameValidation.duplicateError")):Error(i("settings.common.security.usernameValidation.formatError"))}}}}),(e,t)=>{let l=T.Z,i=M.ZP,d=H.ZP;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i,{ref_key:"formItemRef",ref:n,label:e.$t("settings.common.security.username"),path:"username"},{default:(0,s.w5)(()=>[(0,s._)("div",O,[(0,s._)("div",null,[(0,s.Wm)(l,{value:(0,s.SU)(a),disabled:""},null,8,["value"]),(0,s._)("p",j,(0,s.zw)(e.$t("settings.common.security.currentUsername")),1)]),(0,s._)("div",null,[(0,s.Wm)(l,{value:(0,s.SU)(r).username,"onUpdate:value":t[0]||(t[0]=e=>(0,s.SU)(r).username=e),placeholder:e.$t("settings.common.security.newUsernamePlaceholder")},null,8,["value","placeholder"]),(0,s._)("p",B,(0,s.zw)(e.$t("settings.common.security.usernameRule")),1)])])]),_:1},8,["label"]),(0,s._)("div",F,[(0,s.Wm)(d,{type:"primary",disabled:!(0,s.SU)(r).username,onClick:o},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),A={class:"mt-2 flex items-center"},K={class:"flex-1 bg-gray-200 rounded-full h-1 mr-2"},I={class:"text-xs text-gray-500"},V=(0,s.aZ)({__name:"PasswordStrengthIndicator",props:{strength:{type:Object,required:!0}},setup(e){let{t}=(0,R.QT)(),l=(0,s.Fl)(()=>{switch(e.strength.level){case"weak":return"bg-error";case"medium":return"bg-warning";case"strong":return"bg-primary";default:return"bg-gray-300"}}),i=(0,s.Fl)(()=>{switch(e.strength.level){case"weak":return"30%";case"medium":return"60%";case"strong":return"100%";default:return"0%"}}),a=(0,s.Fl)(()=>t(`settings.common.security.strength.${e.strength.level}`));return(e,r)=>((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("div",K,[(0,s._)("div",{class:(0,s.C_)(["h-1 rounded-full transition-all duration-300",(0,s.SU)(l)]),style:(0,s.j5)({width:(0,s.SU)(i)})},null,6)]),(0,s._)("span",I,(0,s.zw)((0,s.SU)(t)("settings.common.security.passwordStrength"))+": "+(0,s.zw)((0,s.SU)(a)),1)]))}}),Q={class:"flex-1 flex flex-col gap-20px"},Y=(0,s.aZ)({__name:"PasswordSettings",setup(e,t){let{expose:l}=t,{t:i}=(0,R.QT)(),{securityForm:a,passwordStrength:r,checkPasswordStrength:n}=y(),o=(0,s.AE)("formItemRef"),d=(0,s.Fl)(()=>!a.value.newPassword||!a.value.confirmPassword),c=()=>{n()},m=async()=>{var e;await (null==(e=o.value)?void 0:e.validate()),await v({key:"admin_password",value:a.value.newPassword}),a.value.newPassword="",a.value.confirmPassword=""};return l({rules:{password:{trigger:["input","blur"],validator:()=>!a.value.newPassword||!a.value.confirmPassword||a.value.newPassword===a.value.confirmPassword||Error(i("settings.common.security.passwordMismatch"))}}}),(e,t)=>{let l=T.Z,n=M.ZP,u=H.ZP;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(n,{ref_key:"formItemRef",ref:o,label:e.$t("settings.common.security.changePassword"),path:"password"},{default:(0,s.w5)(()=>[(0,s._)("div",Q,[(0,s._)("div",null,[(0,s.Wm)(l,{value:(0,s.SU)(a).newPassword,"onUpdate:value":[t[0]||(t[0]=e=>(0,s.SU)(a).newPassword=e),c],type:"password",class:"password-input","show-password-on":"click",placeholder:(0,s.SU)(i)("settings.common.security.newPassword")},null,8,["value","placeholder"]),(0,s.Wm)(V,{strength:(0,s.SU)(r)},null,8,["strength"])]),(0,s._)("div",null,[(0,s.Wm)(l,{value:(0,s.SU)(a).confirmPassword,"onUpdate:value":t[1]||(t[1]=e=>(0,s.SU)(a).confirmPassword=e),type:"password",class:"password-input","show-password-on":"click",placeholder:(0,s.SU)(i)("settings.common.security.confirmPassword")},null,8,["value","placeholder"])])])]),_:1},8,["label"]),(0,s._)("div",null,[(0,s.Wm)(u,{type:"primary",disabled:(0,s.SU)(d),onClick:m},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(i)("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),L={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},G={class:"mt-1 text-xs text-desc"},J={class:"mt-1 text-xs text-desc"},N={class:"mt-4px"},X=(0,s.aZ)({__name:"SecurityPathSettings",setup(e){let{t}=(0,R.QT)(),{currentPath:l,securityForm:i}=y(),a=async()=>{await v({key:"safe_path",value:i.value.securityPath}),l.value=i.value.securityPath,i.value.securityPath=""};return(e,r)=>{let n=T.Z,o=M.ZP,d=H.ZP;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(o,{label:(0,s.SU)(t)("settings.common.security.securityPath")},{default:(0,s.w5)(()=>[(0,s._)("div",L,[(0,s._)("div",null,[(0,s.Wm)(n,{value:(0,s.SU)(l),disabled:""},null,8,["value"]),(0,s._)("p",G,(0,s.zw)((0,s.SU)(t)("settings.common.security.currentPath")),1)]),(0,s._)("div",null,[(0,s.Wm)(n,{value:(0,s.SU)(i).securityPath,"onUpdate:value":r[0]||(r[0]=e=>(0,s.SU)(i).securityPath=e),placeholder:(0,s.SU)(t)("settings.common.security.newPathPlaceholder")},null,8,["value","placeholder"]),(0,s._)("p",J,(0,s.zw)((0,s.SU)(t)("settings.common.security.pathRule")),1)])])]),_:1},8,["label"]),(0,s._)("div",N,[(0,s.Wm)(d,{type:"primary",disabled:!(0,s.SU)(i).securityPath,onClick:a},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),ee={class:"flex items-center"},et={class:"text-lg font-medium"},el=(0,s.aZ)({__name:"SecuritySettings",setup(e){let{t}=(0,R.QT)(),{securityForm:l}=y(),i=(0,s.iH)({}),a=(0,s.AE)("usernameRef"),r=(0,s.AE)("passwordRef");return(0,s.bv)(()=>{a.value&&(i.value={...i.value,...a.value.rules}),r.value&&(i.value={...i.value,...r.value.rules})}),(e,n)=>{let o=D.g,d=S.Z,c=U.ZP;return(0,s.wg)(),(0,s.j4)(c,{class:"mb-8",bordered:!1},{header:(0,s.w5)(()=>[(0,s._)("div",ee,[(0,s.Wm)(o,{class:"mr-2 text-primary",size:"20"},{default:(0,s.w5)(()=>n[0]||(n[0]=[(0,s._)("i",{class:"i-mdi-shield-account"},null,-1)])),_:1,__:[0]}),(0,s._)("span",et,(0,s.zw)((0,s.SU)(t)("settings.common.security.title")),1)])]),default:(0,s.w5)(()=>[(0,s.Wm)(d,{model:(0,s.SU)(l),rules:(0,s.SU)(i)},{default:(0,s.w5)(()=>[(0,s.Wm)(q,{ref_key:"usernameRef",ref:a},null,512),(0,s.Wm)(E),(0,s.Wm)(Y,{ref_key:"passwordRef",ref:r},null,512),(0,s.Wm)(E),(0,s.Wm)(X)]),_:1},8,["model","rules"])]),_:1})}}});var es=l(29875);let ei={class:"block text-sm font-medium mb-3"},ea={class:"flex items-center mb-4"},er={class:"ml-2 font-medium"},en={class:"mt-6"},eo={class:"block text-sm font-medium mb-2"},ed={class:"flex items-center"},ec={class:"text-sm"},em={class:"text-sm"},eu={class:"text-sm"},ev={class:"mt-6"},ep={class:"block text-sm font-medium mb-2"},eg={class:"mt-4"},e_={class:"block text-sm font-medium mb-2"},ew={class:"mt-6"},eh=(0,s.aZ)({__name:"SSLSettings",setup(e){let{t}=(0,R.QT)(),{networkForm:l,sslInfo:i,currentDomain:a,serverIp:r,getCommonConfig:n}=y(),d=(0,s.Fl)(()=>!l.value.sslCert||!l.value.sslKey),c=async()=>{await p({certPem:l.value.sslCert,privateKey:l.value.sslKey}),n()},m=()=>{(0,o.iG)({title:"Apply SSL",width:460,content:()=>(0,s.Wm)("div",{style:{lineHeight:"22px"}},[(0,s.Wm)("div",{class:"mb-8px"},[(0,s.Uk)("Certificate Application Functionality:")]),(0,s.Wm)("div",null,[(0,s.Uk)("- Implement certificate application using hostname")]),(0,s.Wm)("div",null,[(0,s.Uk)("- Ensure the hostname has a valid A record configured with:")]),(0,s.Wm)("div",null,[(0,s.Uk)("- Record Type: "),(0,s.Wm)("b",null,[(0,s.Uk)("A")])]),(0,s.Wm)("div",null,[(0,s.Uk)("- Host: "),(0,s.Wm)("b",null,[a.value])]),(0,s.Wm)("div",null,[(0,s.Uk)("- Value: "),(0,s.Wm)("b",null,[r.value])])]),onConfirm:async()=>{await g(),n()}})};return(e,a)=>{let r=es.Z,n=T.Z,o=H.ZP;return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("label",ei,(0,s.zw)((0,s.SU)(t)("settings.common.network.ssl")),1),(0,s._)("div",ea,[(0,s.Wm)(r,{value:(0,s.SU)(l).sslEnabled,"onUpdate:value":a[0]||(a[0]=e=>(0,s.SU)(l).sslEnabled=e),disabled:""},null,8,["value"]),(0,s._)("label",er,(0,s.zw)((0,s.SU)(t)("settings.common.network.sslEnabled")),1)]),(0,s._)("div",en,[(0,s._)("label",eo,(0,s.zw)((0,s.SU)(t)("settings.common.network.certStatus")),1),(0,s._)("div",ed,[(0,s._)("div",{class:(0,s.C_)(["w-3 h-3 rounded-full mr-2 animate-pulse",(0,s.SU)(i).status?"bg-primary":"bg-error"])},null,2),(0,s._)("span",ec,(0,s.zw)((0,s.SU)(i).status?(0,s.SU)(t)("settings.common.network.certValidStatus"):(0,s.SU)(t)("settings.common.network.certExpiredStatus"))+"， ",1),(0,s._)("span",em,(0,s.zw)((0,s.SU)(t)("settings.common.network.certExpireTime",{time:(0,s.SU)(i).expireTime})),1),(0,s._)("span",eu,(0,s.zw)((0,s.SU)(t)("settings.common.network.certValid",{days:(0,s.SU)(i).expireDays})),1)])]),(0,s._)("div",ev,[(0,s._)("label",ep,(0,s.zw)((0,s.SU)(t)("settings.common.network.sslCert")),1),(0,s.Wm)(n,{value:(0,s.SU)(l).sslCert,"onUpdate:value":a[1]||(a[1]=e=>(0,s.SU)(l).sslCert=e),type:"textarea",rows:6,placeholder:(0,s.SU)(t)("settings.common.network.certPlaceholder"),class:"font-mono text-sm"},null,8,["value","placeholder"])]),(0,s._)("div",eg,[(0,s._)("label",e_,(0,s.zw)((0,s.SU)(t)("settings.common.network.sslKey")),1),(0,s.Wm)(n,{value:(0,s.SU)(l).sslKey,"onUpdate:value":a[2]||(a[2]=e=>(0,s.SU)(l).sslKey=e),type:"textarea",rows:6,placeholder:(0,s.SU)(t)("settings.common.network.keyPlaceholder"),class:"font-mono text-sm"},null,8,["value","placeholder"])]),(0,s._)("div",ew,[(0,s.Wm)(o,{type:"primary",disabled:(0,s.SU)(d),onClick:c},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("settings.common.network.updateSSL")),1)]),_:1},8,["disabled"]),(0,s.Wm)(o,{type:"primary",class:"ml-12px",ghost:"",onClick:m},{default:(0,s.w5)(()=>a[3]||(a[3]=[(0,s.Uk)(" Apply Certificate ")])),_:1,__:[3]})])])}}}),ef={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},ex={class:"mt-1 text-xs text-gray-500"},eb={class:"mt-1 text-xs text-gray-500"},ey=(0,s.aZ)({__name:"DomainSettings",setup(e){let{currentDomain:t,networkForm:l}=y(),i=async()=>{await v({key:"billionmail_hostname",value:l.value.domain}),t.value=l.value.domain,l.value.domain=""};return(e,a)=>{let r=T.Z,n=M.ZP,o=H.ZP;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(n,{label:e.$t("settings.common.network.domain")},{default:(0,s.w5)(()=>[(0,s._)("div",ef,[(0,s._)("div",null,[(0,s.Wm)(r,{value:(0,s.SU)(t),disabled:""},null,8,["value"]),(0,s._)("p",ex,(0,s.zw)(e.$t("settings.common.network.currentDomain")),1)]),(0,s._)("div",null,[(0,s.Wm)(r,{value:(0,s.SU)(l).domain,"onUpdate:value":a[0]||(a[0]=e=>(0,s.SU)(l).domain=e),placeholder:e.$t("settings.common.network.newDomainPlaceholder")},null,8,["value","placeholder"]),(0,s._)("p",eb,(0,s.zw)(e.$t("settings.common.network.domainRule")),1)])])]),_:1},8,["label"]),(0,s._)("div",null,[(0,s.Wm)(o,{type:"primary",disabled:!(0,s.SU)(l).domain,onClick:i},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),eU={class:"flex items-center"},eS={class:"text-lg font-medium"},ek=(0,s.aZ)({__name:"NetworkSettings",setup:e=>(e,t)=>{let l=D.g,i=S.Z,a=U.ZP;return(0,s.wg)(),(0,s.j4)(a,{class:"mb-8",bordered:!1},{header:(0,s.w5)(()=>[(0,s._)("div",eU,[(0,s.Wm)(l,{class:"mr-2 text-primary",size:"20"},{default:(0,s.w5)(()=>t[0]||(t[0]=[(0,s._)("i",{class:"i-mdi-network"},null,-1)])),_:1,__:[0]}),(0,s._)("span",eS,(0,s.zw)(e.$t("settings.common.network.title")),1)])]),default:(0,s.w5)(()=>[(0,s.Wm)(i,null,{default:(0,s.w5)(()=>[(0,s.Wm)(eh),(0,s.Wm)(E),(0,s.Wm)(ey)]),_:1})]),_:1})}});var eW=l(99321),ez=l(77984);let eP={class:"bg-gray-900 text-gray-100 rounded-lg p-4 pr-48px font-mono text-sm relative"},eZ={class:"absolute top-0px right-16px h-full flex items-center"},eC={class:"mt-2 text-12px text-desc"},e$=(0,s.aZ)({__name:"Command",props:{value:{type:String,default:""}},setup(e){let{copyText:t}=(0,ez.F)();return(l,i)=>{let a=H.ZP;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",eP,[i[2]||(i[2]=(0,s._)("span",{class:"text-gray-400 mr-2"},"$",-1)),(0,s.Uk)((0,s.zw)(e.value)+" ",1),(0,s._)("div",eZ,[(0,s.Wm)(a,{text:"",class:"text-desc",onClick:i[0]||(i[0]=l=>(0,s.SU)(t)(e.value))},{default:(0,s.w5)(()=>i[1]||(i[1]=[(0,s._)("i",{class:"i-mdi-content-copy text-18px"},null,-1)])),_:1,__:[1]})])]),(0,s._)("p",eC,(0,s.zw)(l.$t("settings.common.system.copyCommand")),1)],64)}}}),eE={class:"block text-sm font-medium text-basic mb-3"},eD={class:"grid items-start grid-cols-1 md:grid-cols-2 gap-4"},eH={class:"mt-1 text-xs text-desc"},eM={class:"flex items-center"},eT={class:"mt-5"},eR=(0,s.aZ)({__name:"PortSettings",setup(e){let{t}=(0,R.QT)(),{currentPort:l,portCommand:i}=y(),a=(0,s.iH)(l.value),r=(0,s.iH)(""),n=e=>{r.value=i.value.replace(/PORT/g,e)};return(0,s.m0)(()=>{a.value=l.value,l.value&&(r.value=i.value.replace(/PORT/g,l.value))}),(e,l)=>{let i=T.Z,o=D.g,d=eW.Z;return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("label",eE,(0,s.zw)((0,s.SU)(t)("settings.common.system.port")),1),(0,s._)("div",eD,[(0,s._)("div",null,[(0,s.Wm)(i,{value:(0,s.SU)(a),"onUpdate:value":[l[0]||(l[0]=e=>(0,s.dq)(a)?a.value=e:null),n]},null,8,["value"]),(0,s._)("p",eH,(0,s.zw)((0,s.SU)(t)("settings.common.system.currentPort")),1)]),(0,s._)("div",eM,[(0,s.Wm)(d,{type:"warning",class:"w-full"},{icon:(0,s.w5)(()=>[(0,s.Wm)(o,null,{default:(0,s.w5)(()=>l[1]||(l[1]=[(0,s._)("i",{class:"i-mdi-alert-circle"},null,-1)])),_:1,__:[1]})]),default:(0,s.w5)(()=>[(0,s.Uk)(" "+(0,s.zw)((0,s.SU)(t)("settings.common.system.terminalRequired")),1)]),_:1})])]),(0,s._)("div",eT,[(0,s.Wm)(e$,{value:(0,s.SU)(r)},null,8,["value"])])])}}});var eO=l(8490);let ej={class:"block text-sm font-medium text-basic mb-3"},eB={class:"grid items-start grid-cols-1 md:grid-cols-2 gap-4"},eF={class:"flex gap-12px"},eq={class:"flex-1"},eA={class:"flex-1"},eK={class:"mt-1 text-xs text-desc"},eI={class:"flex items-center"},eV={class:"mt-5"},eQ=(0,s.aZ)({__name:"TimezoneSettings",setup(e){let{t}=(0,R.QT)(),{currentTime:l,timeCommand:i}=y(),a=(0,s.iH)(""),r=(0,s.iH)(""),n=(0,s.iH)(""),d=(0,s.iH)({}),c=(0,s.iH)([]),m=(0,s.Fl)(()=>{let e=d.value[a.value];return e?e.map(e=>({label:e,value:e})):[]}),v=()=>{let e=d.value[a.value];r.value=e?e[0]:"",p()},p=()=>{a.value&&r.value&&(n.value=i.value.replace(/TIME ZONE/g,`${a.value}/${r.value}`))};return(0,s.YP)(()=>l.value,e=>{if(e){let t=e.split("/");a.value=t[0],r.value=t[1],n.value=i.value.replace(/TIME ZONE/g,`${a.value}/${r.value}`)}},{immediate:!0}),(async()=>{let e=await u();(0,o.Kn)(e)&&(d.value=e,c.value=Object.keys(e).map(e=>({label:e,value:e})))})(),(e,l)=>{let i=eO.Z,o=D.g,d=eW.Z;return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("label",ej,(0,s.zw)((0,s.SU)(t)("settings.common.system.timezone")),1),(0,s._)("div",eB,[(0,s._)("div",null,[(0,s._)("div",eF,[(0,s._)("div",eq,[(0,s.Wm)(i,{value:(0,s.SU)(a),"onUpdate:value":[l[0]||(l[0]=e=>(0,s.dq)(a)?a.value=e:null),v],options:(0,s.SU)(c),filterable:""},null,8,["value","options"])]),(0,s._)("div",eA,[(0,s.Wm)(i,{value:(0,s.SU)(r),"onUpdate:value":[l[1]||(l[1]=e=>(0,s.dq)(r)?r.value=e:null),p],options:(0,s.SU)(m),filterable:""},null,8,["value","options"])])]),(0,s._)("div",eK,(0,s.zw)((0,s.SU)(t)("settings.common.system.currentTime")),1)]),(0,s._)("div",eI,[(0,s.Wm)(d,{type:"warning",class:"w-full"},{icon:(0,s.w5)(()=>[(0,s.Wm)(o,null,{default:(0,s.w5)(()=>l[2]||(l[2]=[(0,s._)("i",{class:"i-mdi-alert-circle"},null,-1)])),_:1,__:[2]})]),default:(0,s.w5)(()=>[(0,s.Uk)(" "+(0,s.zw)((0,s.SU)(t)("settings.common.system.terminalRequired")),1)]),_:1})])]),(0,s._)("div",eV,[(0,s.Wm)(e$,{value:(0,s.SU)(n)},null,8,["value"])])])}}});var eY=l(81021),eL=l(51048),eG=l(19050),eJ=l(11118);let eN=(0,Z.c)([(0,Z.cB)("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[(0,Z.cM)("show-divider",[(0,Z.cB)("list-item",[(0,Z.c)("&:not(:last-child)",[(0,Z.cE)("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),(0,Z.cM)("clickable",[(0,Z.cB)("list-item",`
 cursor: pointer;
 `)]),(0,Z.cM)("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),(0,Z.cM)("hoverable",[(0,Z.cB)("list-item",`
 border-radius: var(--n-border-radius);
 `,[(0,Z.c)("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[(0,Z.cE)("divider",`
 background-color: transparent;
 `)])])]),(0,Z.cM)("bordered, hoverable",[(0,Z.cB)("list-item",`
 padding: 12px 20px;
 `),(0,Z.cE)("header, footer",`
 padding: 12px 20px;
 `)]),(0,Z.cE)("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[(0,Z.c)("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),(0,Z.cB)("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[(0,Z.cE)("prefix",`
 margin-right: 20px;
 flex: 0;
 `),(0,Z.cE)("suffix",`
 margin-left: 20px;
 flex: 0;
 `),(0,Z.cE)("main",`
 flex: 1;
 `),(0,Z.cE)("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),(0,Z.ko)((0,Z.cB)("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),(0,Z.WW)((0,Z.cB)("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),eX=Object.assign(Object.assign({},k.Z.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),e0=(0,eG.U)("n-list"),e1=(0,s.aZ)({name:"List",props:eX,slots:Object,setup(e){let{mergedClsPrefixRef:t,inlineThemeDisabled:l,mergedRtlRef:i}=(0,W.ZP)(e),a=(0,eL.V)("List",i,t),r=(0,k.Z)("List","-list",eN,eJ.Z,e,t);(0,s.JJ)(e0,{showDividerRef:(0,s.Vh)(e,"showDivider"),mergedClsPrefixRef:t});let n=(0,s.Fl)(()=>{let{common:{cubicBezierEaseInOut:e},self:{fontSize:t,textColor:l,color:s,colorModal:i,colorPopover:a,borderColor:n,borderColorModal:o,borderColorPopover:d,borderRadius:c,colorHover:m,colorHoverModal:u,colorHoverPopover:v}}=r.value;return{"--n-font-size":t,"--n-bezier":e,"--n-text-color":l,"--n-color":s,"--n-border-radius":c,"--n-border-color":n,"--n-border-color-modal":o,"--n-border-color-popover":d,"--n-color-modal":i,"--n-color-popover":a,"--n-color-hover":m,"--n-color-hover-modal":u,"--n-color-hover-popover":v}}),o=l?(0,z.F)("list",void 0,n,e):void 0;return{mergedClsPrefix:t,rtlEnabled:a,cssVars:l?void 0:n,themeClass:null==o?void 0:o.themeClass,onRender:null==o?void 0:o.onRender}},render(){var e;let{$slots:t,mergedClsPrefix:l,onRender:i}=this;return null==i||i(),(0,s.h)("ul",{class:[`${l}-list`,this.rtlEnabled&&`${l}-list--rtl`,this.bordered&&`${l}-list--bordered`,this.showDivider&&`${l}-list--show-divider`,this.hoverable&&`${l}-list--hoverable`,this.clickable&&`${l}-list--clickable`,this.themeClass],style:this.cssVars},t.header?(0,s.h)("div",{class:`${l}-list__header`},t.header()):null,null==(e=t.default)?void 0:e.call(t),t.footer?(0,s.h)("div",{class:`${l}-list__footer`},t.footer()):null)}});var e8=l(14501);let e2=(0,s.aZ)({name:"ListItem",slots:Object,setup(){let e=(0,s.f3)(e0,null);return e||(0,e8._y)("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:e.showDividerRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){let{$slots:e,mergedClsPrefix:t}=this;return(0,s.h)("li",{class:`${t}-list-item`},e.prefix?(0,s.h)("div",{class:`${t}-list-item__prefix`},e.prefix()):null,e.default?(0,s.h)("div",{class:`${t}-list-item__main`},e):null,e.suffix?(0,s.h)("div",{class:`${t}-list-item__suffix`},e.suffix()):null,this.showDivider&&(0,s.h)("div",{class:`${t}-list-item__divider`}))}}),e5={class:"block text-sm font-medium mb-3"},e4={class:"flex justify-between items-center h-34px mb-12px"},e3={class:"flex item-center gap-8px"},e6={class:"text-desc"},e9={class:"flex gap-8px mb-12px"},e7={class:"flex-1"},te={class:"text-13px"},tt={class:"mt-12px"},tl=(0,s.aZ)({__name:"IpWhitelistSettings",setup(e){let{ipWhitelistEnable:t,ipWhitelistList:l,getCommonConfig:i}=y(),a=(0,s.iH)(""),{t:r}=(0,R.QT)(),n=async()=>{if(""===a.value)return void o.v0.error(r("settings.common.ipWhitelist.validation.ipRequired"));await _({ip:a.value}),i(),a.value=""},d=(e,t)=>{(0,o.iG)({title:r("settings.common.ipWhitelist.confirm.deleteTitle"),content:r("settings.common.ipWhitelist.confirm.deleteContent",{ip:l.value[t].ip}),onConfirm:async()=>{await w({id:e}),l.value.splice(t,1)}})},c=e=>{(0,o.iG)({title:e?r("settings.common.ipWhitelist.confirm.enableTitle"):r("settings.common.ipWhitelist.confirm.disableTitle"),content:e?r("settings.common.ipWhitelist.confirm.enableContent"):r("settings.common.ipWhitelist.confirm.disableContent"),onConfirm:async()=>{await v({key:"ip_whitelist_enable",value:`${e}`}),t.value=e}})},m=async()=>{(0,o.iG)({title:r("settings.common.ipWhitelist.confirm.clearTitle"),content:r("settings.common.ipWhitelist.confirm.clearContent"),onConfirm:async()=>{await h(),i()}})};return(e,i)=>{let o=es.Z,u=T.Z,v=H.ZP,p=eY.Z;return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("label",e5,(0,s.zw)((0,s.SU)(r)("settings.common.ipWhitelist.title")),1),(0,s._)("div",e4,[(0,s._)("div",e3,[(0,s.Wm)(o,{value:(0,s.SU)(t),"onUpdate:value":c},{checked:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(r)("settings.common.ipWhitelist.enable")),1)]),unchecked:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(r)("settings.common.ipWhitelist.disable")),1)]),_:1},8,["value"])]),(0,s._)("div",e6,(0,s.zw)((0,s.SU)(r)("settings.common.ipWhitelist.description")),1)]),(0,s._)("div",e9,[(0,s._)("div",e7,[(0,s.Wm)(u,{value:(0,s.SU)(a),"onUpdate:value":i[0]||(i[0]=e=>(0,s.dq)(a)?a.value=e:null),placeholder:(0,s.SU)(r)("settings.common.ipWhitelist.placeholder")},null,8,["value","placeholder"])]),(0,s.Wm)(v,{type:"primary",onClick:n},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(r)("settings.common.ipWhitelist.add")),1)]),_:1})]),(0,s.SU)(l).length>0?((0,s.wg)(),(0,s.j4)(e1,{key:0,hoverable:"",bordered:""},{default:(0,s.w5)(()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,s.SU)(l),(e,t)=>((0,s.wg)(),(0,s.j4)(e2,{key:e.id},{suffix:(0,s.w5)(()=>[(0,s.Wm)(v,{size:"small",quaternary:"",circle:"",onClick:l=>d(e.id,t)},{default:(0,s.w5)(()=>i[1]||(i[1]=[(0,s._)("i",{class:"i-mingcute:close-fill text-16px"},null,-1)])),_:2,__:[1]},1032,["onClick"])]),default:(0,s.w5)(()=>[(0,s._)("span",te,(0,s.zw)(e.ip),1)]),_:2},1024))),128))]),_:1})):((0,s.wg)(),(0,s.j4)(p,{key:1})),(0,s._)("div",tt,[(0,s.Wm)(v,{onClick:m},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(r)("settings.common.ipWhitelist.clear")),1)]),_:1})])])}}}),ts={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},ti={class:"mt-1 text-xs text-desc"},ta={class:"mt-1 text-xs text-desc"},tr=(0,s.aZ)({__name:"ProxySettings",setup(e){let{t}=(0,R.QT)(),{currentProxy:l,getCommonConfig:i}=y(),a=(0,s.iH)(""),r=async()=>{await f({domain:a.value}),i(),a.value=""},n=async()=>{(0,o.iG)({title:t("settings.common.proxy.resetConfirm.title"),content:t("settings.common.proxy.resetConfirm.content"),onConfirm:async()=>{await x(),i()}})};return(e,t)=>{let i=T.Z,o=M.ZP,d=H.ZP;return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(o,{ref:"formItemRef",label:e.$t("settings.common.proxy.title"),path:"username"},{default:(0,s.w5)(()=>[(0,s._)("div",ts,[(0,s._)("div",null,[(0,s.Wm)(i,{value:(0,s.SU)(l),readonly:""},null,8,["value"]),(0,s._)("p",ti,(0,s.zw)(e.$t("settings.common.proxy.description")),1)]),(0,s._)("div",null,[(0,s.Wm)(i,{value:(0,s.SU)(a),"onUpdate:value":t[0]||(t[0]=e=>(0,s.dq)(a)?a.value=e:null),placeholder:e.$t("settings.common.proxy.placeholder")},null,8,["value","placeholder"]),(0,s._)("p",ta,(0,s.zw)(e.$t("settings.common.proxy.formatTip")),1)])])]),_:1},8,["label"]),(0,s._)("div",null,[(0,s.Wm)(d,{type:"primary",disabled:!(0,s.SU)(a),onClick:r},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"]),(0,s.Wm)(d,{class:"ml-12px",onClick:n},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("settings.common.proxy.reset")),1)]),_:1})])])}}}),tn={class:"flex items-center"},to={class:"text-lg font-medium"},td={class:"space-y-8"},tc=(0,s.aZ)({__name:"SystemSettings",setup:e=>(e,t)=>{let l=D.g,i=U.ZP;return(0,s.wg)(),(0,s.j4)(i,{class:"mb-8",bordered:!1},{header:(0,s.w5)(()=>[(0,s._)("div",tn,[(0,s.Wm)(l,{class:"mr-2 text-primary",size:"20"},{default:(0,s.w5)(()=>t[0]||(t[0]=[(0,s._)("i",{class:"i-mdi-cog"},null,-1)])),_:1,__:[0]}),(0,s._)("span",to,(0,s.zw)(e.$t("settings.common.system.title")),1)])]),default:(0,s.w5)(()=>[(0,s._)("div",td,[(0,s.Wm)(eR),(0,s.Wm)(E),(0,s.Wm)(eQ),(0,s.Wm)(E),(0,s.Wm)(tl),(0,s.Wm)(E),(0,s.Wm)(tr)])]),_:1})}}),tm={class:"max-w-4xl mx-auto px-4 py-8"},tu=(0,s.aZ)({__name:"index",setup(e){let t=b();return t.getCommonConfig(),(0,s.Jd)(()=>{t.reset()}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",tm,[(0,s.Wm)(el),(0,s.Wm)(ek),(0,s.Wm)(tc)]))}})}}]);