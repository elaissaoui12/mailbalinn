"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["1281"],{39432:function(e,t,a){a.d(t,{Au:()=>c,Fj:()=>d,LC:()=>o,Lb:()=>h,M7:()=>w,OV:()=>m,dj:()=>r,gK:()=>u,i7:()=>n,qt:()=>s,rU:()=>_,v1:()=>p,xh:()=>v,yW:()=>f});var l=a(34541);let{t:i}=a(76882).Z.global,n=e=>l.e.get("/domains/list",{params:e}),o=()=>l.e.get("/domains/all"),s=()=>l.e.post("/multi_ip_domain/apply"),d=e=>l.e.post("/domains/create",e,{fetchOptions:{loading:i("domain.api.loading.creating"),successMessage:!0}}),u=e=>l.e.post("/domains/update",e,{fetchOptions:{loading:i("domain.api.loading.updating"),successMessage:!0}}),r=e=>l.e.post("/domains/delete",e,{fetchOptions:{loading:i("domain.api.loading.deleting"),successMessage:!0}}),m=e=>l.e.post("/domains/set_ssl",e,{fetchOptions:{loading:i("domain.api.loading.settingSSL"),successMessage:!0}}),c=e=>l.e.get("/domains/get_ssl",{params:e}),p=e=>l.e.post("/domains/fresh_dns_records",e,{fetchOptions:{loading:i("domain.api.loading.refreshingDns"),successMessage:!0}}),f=e=>l.e.post("/ssl/apply_cert",e,{fetchOptions:{loading:i("domain.api.loading.applyingCert"),successMessage:!0}}),v=e=>l.e.post("/domains/set_default_domain",e,{fetchOptions:{loading:i("domain.api.loading.settingDefault"),successMessage:!0}}),_=e=>l.e.post("/askai/project/create",e,{fetchOptions:{loading:i("domain.api.loading.settingBrandInfo"),successMessage:!0}}),w=e=>l.e.post("/multi_ip_domain/test",e,{fetchOptions:{loading:i("domain.api.loading.testingConnection"),successMessage:!0}}),h=()=>l.e.post("/askai/supplier/status")},77984:function(e,t,a){a.d(t,{F:()=>o});var l=a(68271),i=a(94821),n=a(76882);let o=()=>{let{t:e}=n.Z.global,{copy:t,isSupported:a,copied:o}=(0,i.VPI)({legacy:!0});return{copied:o,copyText:async function(i){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!i)return void l.v0.error(e("common.useCopy.noText"));a.value?(await t(i),n&&l.v0.success(e("common.useCopy.success"))):l.v0.error(e("common.useCopy.failed"))}}}},16634:function(e,t,a){a.d(t,{Ao:()=>o,mL:()=>s,uL:()=>n});var l=a(34541),i=a(42205);let n={fetchOptions:{loading:"Loading... Please wait.",successMessage:!0}};async function o(e){let{legal_company_name:t,web_site:a,company_profile:n,email:o,phone:s,support_url:d,hasGotCompanyProfile:u}=(0,i.J)();if(!u.value)try{let i=await l.e.post("/askai/project/get_company_profile",{domain:e});t.value=i.legal_company_name,a.value=i.web_site,n.value=i.company_profile,o.value=i.email,s.value=i.phone,d.value=i.support_url,u.value=!0}catch(e){console.warn(e)}}async function s(e){let{legal_company_name:t,web_site:a,company_profile:o,email:s,phone:d,support_url:u}=(0,i.J)();try{await l.e.post("/askai/project/modify_company_profile",{domain:e,legal_company_name:t.value,web_site:a.value,company_profile:o.value,email:s.value,phone:d.value,support_url:u.value},n)}catch(e){console.warn(e)}}},54686:function(e,t,a){a.d(t,{L7:()=>_,M7:()=>c,Rw:()=>w,VP:()=>h,Vq:()=>y,Xe:()=>f,gK:()=>p,ke:()=>v,lQ:()=>r});var l=a(34541),i=a(16634),n=a(42205),o=a(68271),s=a(39432),d=a(31708),u=a(76882);async function r(e){let{domainTit:t,domainIp:a,hostname:i,quota:s,unit:d,mailboxes:u,catch_email:r,hasGotDomainConfiguration:c,urls:p}=(0,n.J)();if(!c.value)try{let n=await l.e.get("/domains/list",{params:{keyword:e,page:1,page_size:1}});if((0,o.Kn)(n)){var f;let{list:l}=n,v=(0,o.UO)(l[0].quota,!0,2).split(" ");t.value=l[0].domain,a.value=(null==(f=l[0].multi_ip_domains)?void 0:f.outbound_ip)||"",i.value=l[0].a_record,s.value=v[0],d.value=v[1],u.value=l[0].mailboxes,r.value=l[0].email,p.value=l[0].urls&&l[0].urls.length>0&&""!=l[0].urls[0]?l[0].urls:[`https://${e}`],await m(e),c.value=!0}}catch(e){console.warn(e)}}async function m(e){let{brandInfo:t,createdBrandInfo:a}=(0,n.J)();try{let i=await l.e.post("/askai/project/get_project_status",{domain:e});t.value=i.status,a.value=i.create_status}catch(e){console.warn(e)}}async function c(){let{domainTit:e,domainIp:t}=(0,n.J)();if(""==t.value)return void o.v0.error(u.Z.global.t("domain.edit.domainConfiguration.validation.setDedicatedIpFirst"));try{await l.e.post("/multi_ip_domain/test",{domain:e.value,outbound_ip:t.value},{fetchOptions:{loading:u.Z.global.t("domain.edit.domainConfiguration.api.testingConnection"),successMessage:!0}})}catch(e){console.warn(e)}}async function p(){let{domainTit:e,domainIp:t,hostname:a,quota:o,unit:s,urls:d,mailboxes:u,catch_email:r}=(0,n.J)(),m=function(e,t){switch(t){case"KB":return 1024*e;case"MB":return 1024*e*1024;case"GB":return 1024*e*1048576;case"TB":return 1024*e*0x40000000;default:return e}}(Number(o.value),s.value);try{await l.e.post("/domains/update",{domain:e.value,mailboxes:u.value,mailboxQuota:m,quota:m,rateLimit:1,active:1,email:r.value,urls:d.value,outbound_ip:t.value,hostname:a.value},i.uL)}catch(e){console.warn(e)}}async function f(){let{waitAndCheckDomainStatusRef:e,domainTit:t,urls:a,hasGotDomainConfiguration:l}=(0,n.J)(),i=(0,d.s6)();if(l.value=!1,0==a.value.length||""==a.value[0])o.v0.error(u.Z.global.t("domain.edit.domainConfiguration.fillDomain"));else if((0,o.CB)(a.value[0]))try{await (0,s.rU)({domain:t.value,urls:a.value}),i.domainSource=t.value,e.value.open(t.value,()=>{v(t.value,1),r(t.value)})}catch(e){console.warn(e)}else o.v0.error(u.Z.global.t("domain.edit.domainConfiguration.fillValidDomain"))}async function v(e,t){try{await l.e.post("/domains/update",{domain:e,hasbrandinfo:t})}catch(e){console.warn(e)}}function _(e){let{urls:t}=(0,n.J)(),a=t.value[0].match(/http:\/\/?/g),l=t.value[0].match(/https:\/\/?/g);a&&(t.value[0]=a[0]+e),l&&(t.value[0]=l[0]+e),a||l||(t.value[0]="https://"+e)}function w(e){let{urls:t}=(0,n.J)();t.value.splice(e,1)}function h(){let{hasGotAisettings:e,hasGotCompanyProfile:t,hasGotDomainConfiguration:a,hasGotFootersettings:l,hasGotProjectDetail:i,hasGotSitemap:o,hasGotStyling:s}=(0,n.J)();e.value=!1,t.value=!1,a.value=!1,l.value=!1,i.value=!1,o.value=!1,s.value=!1}async function y(e){let{brandInfo:t,domainTit:a}=(0,n.J)();try{await l.e.post("/askai/project/set_project_status",{domain:a.value,status:e},i.uL),await l.e.post("/domains/update",{domain:a.value,active:1,hasbrandinfo:Number(e)})}catch(a){t.value=!e,console.warn(a)}}},42205:function(e,t,a){a.d(t,{J:()=>o});var l=a(30989),i=a(58786);let n=(0,l.Q_)("editDomainStore",()=>{let e=(0,i.iH)(!1),t=(0,i.iH)(""),a=(0,i.iH)(""),l=(0,i.iH)(""),n=(0,i.iH)("0"),o=(0,i.iH)("B"),s=(0,i.iH)(0),d=(0,i.iH)(""),u=(0,i.iH)(["https://"]),r=(0,i.iH)(!1),m=(0,i.iH)(),c=(0,i.iH)(!1),p=(0,i.iH)(!1),f=(0,i.iH)(""),v=(0,i.iH)(""),_=(0,i.iH)(""),w=(0,i.iH)(""),h=(0,i.iH)(""),y=(0,i.iH)(""),g=(0,i.iH)(""),S=(0,i.iH)([]),U=(0,i.iH)({title:"",content:"",kid:"",update_time:0}),x=(0,i.iH)(""),b=(0,i.iH)(""),k=(0,i.iH)(!1),W=(0,i.iH)(!1),z=(0,i.iH)(""),H=(0,i.iH)(!1),Z=(0,i.iH)(""),C=(0,i.iH)(!1),q=(0,i.iH)(""),$=(0,i.iH)(""),j=(0,i.iH)(""),D=(0,i.iH)(""),P=(0,i.iH)(""),M=(0,i.iH)(""),I=(0,i.iH)(!1),F=(0,i.iH)(""),T=(0,i.iH)(""),O=(0,i.iH)(""),A=(0,i.iH)(""),B=(0,i.iH)(""),R=(0,i.iH)(""),J=(0,i.iH)(""),L=(0,i.iH)(""),K=(0,i.iH)(!1),G=(0,i.iH)([{title:"",uri_path:""}]),V=(0,i.iH)(!1),Q=(0,i.iH)(""),E=(0,i.iH)("");return{hasGotDomainConfiguration:e,domainTit:t,domainIp:a,hostname:l,quota:n,unit:o,mailboxes:s,catch_email:d,urls:u,brandInfo:r,waitAndCheckDomainStatusRef:m,createdBrandInfo:c,hasGotProjectDetail:p,domain:f,description:v,favicon:_,industry:w,primary_logo:h,project_name:y,secondary_logo:g,knowledge_base:S,activeKnowledge:U,knowledgeTitle:x,knowledgeContent:b,knowledgeModalShow:k,isEditKnowledge:W,knowledge_base_content:z,knowledgeBasePreview:H,knowledgeBasePreviewTit:Z,hasGotCompanyProfile:C,legal_company_name:q,web_site:$,company_profile:j,email:D,phone:P,support_url:M,hasGotStyling:I,accent_color:F,text_color:T,page_background:O,container_background:A,link_social_color:B,link_footer_color:R,heading_font:J,body_font:L,hasGotSitemap:K,sitemap:G,hasGotFootersettings:V,copyright_text:Q,disclaimer:E,hasGotAisettings:(0,i.iH)(!1),prompt:(0,i.iH)("")}});function o(){let e=n();return{...(0,l.Jk)(e)}}},51169:function(e,t,a){a.d(t,{d:()=>o});var l=a(58786),i=a(49247);let n=Symbol("MODAL_INJECT"),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{state:t={},component:a,onCancel:o,onConfirm:s}=e,d=(0,l.qj)({});return a?[(0,l.aZ)({setup(i,o){let{attrs:s,slots:u}=o;return(0,l.JJ)(n,{state:t,options:e,extendApi:e=>{Object.setPrototypeOf(d,e)},setState:e=>{Object.assign(t,e)}}),()=>(0,l.h)(a,{...i,...s},u)}}),d]:[(0,l.aZ)({setup(t,a){let{attrs:u,slots:r}=a,m=(0,l.f3)(n),c=(0,l.iH)(!1);return d.open=()=>{var t;c.value=!0,null==(t=e.onChangeState)||t.call(e,c.value)},d.close=()=>{c.value=!1},d.setState=t=>{var a;null==m||m.setState(t),null==(a=e.onChangeState)||a.call(e,c.value)},d.getState=()=>(null==m?void 0:m.state)??{},null==m||m.extendApi(d),()=>(0,l.Wm)(i.Z,(0,l.dG)({show:c.value},t,u,{onCancel:o,onConfirm:s,"onUpdate:show":e=>{c.value=e??!1}}),r)}}),d]}},16893:function(e,t,a){a.d(t,{Z:()=>o});var l=a(15496),i=a(58786);let n={class:"mr-4px"},o=(0,i.aZ)({__name:"index",props:{href:{type:String,default:""},text:{type:String,default:""}},setup(e){let t=()=>{window.open(e.href)};return(a,o)=>{let s=l.ZP;return(0,i.wg)(),(0,i.j4)(s,{text:"",onClick:t},{default:(0,i.w5)(()=>[(0,i._)("span",n,(0,i.zw)(e.text||a.$t("common.actions.help")),1),o[0]||(o[0]=(0,i._)("i",{class:"i-custom:help text-primary"},null,-1))]),_:1,__:[0]})}}})},76631:function(e,t,a){a.d(t,{Z:()=>d});var l=a(90340),i=a(56357),n=a(58786),o=a(17351);let s={class:"ml-8px text-13px text-primary"},d=(0,n.aZ)({__name:"index",props:(0,n.Vf)({title:{type:String,default:""}},{show:{type:Boolean,default:!1},showModifiers:{}}),emits:["update:show"],setup(e){let t=(0,n.tT)(e,"show"),a=()=>{t.value=!t.value},d=!!(0,n.Rr)().title;return(u,r)=>{let m=i.g,c=l.Z;return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",{class:"flex items-center mb-20px cursor-pointer",onClick:a},[(0,n.Wm)(m,{size:"16",style:(0,n.j5)({transform:`rotate(${t.value?"90":"0"}deg)`,transition:"transform 0.3s"})},{default:(0,n.w5)(()=>[(0,n.Wm)((0,n.SU)(o.Z))]),_:1},8,["style"]),(0,n._)("div",s,[(0,n.WI)(u.$slots,"title"),(0,n.Uk)(" "+(0,n.zw)(d?"":e.title),1)])]),(0,n.Wm)(c,{show:t.value},{default:(0,n.w5)(()=>[(0,n.WI)(u.$slots,"default")]),_:3},8,["show"])],64)}}})},88583:function(e,t,a){a.d(t,{Z:()=>n});var l=a(58786);let i={class:"bt-tips flex flex-col gap-4px list-outside list-disc leading-20px text-[#777]"},n=(0,a(41748).default)({},[["render",function(e,t){return(0,l.wg)(),(0,l.iD)("ul",i,[(0,l.WI)(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-8731a1b4"]])},46244:function(e,t,a){a.d(t,{Z:()=>n});var l=a(98048),i=a(58786);let n=(0,i.aZ)({__name:"index",props:{model:{},rules:{},labelWidth:{},labelPlacement:{default:"top"}},setup(e,t){let{expose:a}=t,n=(0,i.iH)(null);return a({validate:()=>{var e;return null==(e=n.value)?void 0:e.validate()},restoreValidation:()=>{var e;return null==(e=n.value)?void 0:e.restoreValidation()}}),(e,t)=>{let a=l.Z;return(0,i.wg)(),(0,i.j4)(a,(0,i.dG)(e.$attrs,{ref_key:"formRef",ref:n,model:e.model,rules:e.rules,"label-width":e.labelWidth,"label-placement":e.labelPlacement}),{default:(0,i.w5)(()=>[(0,i.WI)(e.$slots,"default")]),_:3},16,["model","rules","label-width","label-placement"])}}})},1418:function(e,t,a){a.d(t,{Z:()=>p});var l=a(5057),i=a(57869),n=a(58786),o=a(99778),s=a(31708),d=a(34541),u=a(68271),r=a(52495);let m={class:"flex justify-start gap-2.5 bg-transparent items-center"},c={class:"flex items-center text-4"},p=(0,n.aZ)({__name:"WaitAndCheckDomainStatus",setup(e,t){let{expose:a}=t,{t:p}=(0,r.QT)(),f=(0,n.iH)(!1),v=(0,s.s6)(),_=(0,n.iH)();function w(){f.value=!1}function h(e,t){let a=setInterval(async()=>{await y(e)&&(u.v0.success(p("domain.waitAndCheckDomainStatus.success")),t&&t(),w(),clearInterval(a),_.value.open())},1e3)}async function y(e){try{if((await d.e.post("/askai/project/get_base_info",{domain:e})).update_time)return!0;return!1}catch(e){return console.warn(e),u.v0.error(p("domain.waitAndCheckDomainStatus.error")),!1}}return a({open:function(e,t){h(e,t),v.domainSource=e,f.value=!0},close:w,checkStatus:h}),(e,t)=>{let a=i.ZP,s=l.Z;return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(s,{show:(0,n.SU)(f),"onUpdate:show":t[0]||(t[0]=e=>(0,n.dq)(f)?f.value=e:null),"close-on-esc":!1,"mask-closable":!1},{default:(0,n.w5)(()=>[(0,n.Wm)(a,{style:{width:"auto"}},{default:(0,n.w5)(()=>[(0,n._)("div",m,[t[1]||(t[1]=(0,n._)("i",{class:"i-svg-spinners:bars-scale text-[var(--color-primary-1)] text-6"},null,-1)),(0,n._)("span",c,(0,n.zw)(e.$t("domain.waitAndCheckDomainStatus.loading")),1)])]),_:1})]),_:1},8,["show"]),(0,n.Wm)(o.Z,{ref_key:"createTplModal",ref:_,"only-ai":!0},null,512)],64)}}})},1180:function(e,t,a){a.r(t),a.d(t,{default:()=>eN});var l=a(39244),i=a(25170),n=a(60424),o=a(66760),s=a(16893),d=a(58786),u=a(15496),r=a(53903),m=a(93953),c=a(68271),p=a(51169),f=a(67512),v=a(39432),_=a(46244),w=a(76631),h=a(99321),y=a(29875),g=a(8490),S=a(29283),U=a(6455),x=a(73084),b=a(49942),k=a(88583),W=a(1418),z=a(31708),H=a(52672),Z=a(52495);let C={class:"max-h-640px pt-16px overflow-auto"},q={class:"flex items-center justify-start gap-1.25"},$={class:"text-error"},j={class:"w-100px ml-20px"},D={class:"flex-1 mr-16px"},P={class:"flex items-center"},M={class:"w-100% flex justify-between items-center"},I={class:"mr-5"},F={class:"mb-8px text-default flex justify-start"},T={class:"w-100% flex flex-col gap-2.5"},O=["onClick"],A=(0,d.aZ)({__name:"DomainForm",setup(e){let{t}=(0,Z.QT)(),a=(0,d.iH)(!1),l=(0,d.iH)(),i=(0,d.Fl)(()=>a.value?t("domain.form.editTitle"):t("domain.form.addTitle")),n=(0,z.s6)(),o=(0,d.iH)(!1),s=(0,d.AE)("formRef"),r=(0,d.iH)(!1),m=(0,d.iH)(["https://"]),f=(0,d.qj)({domain:"",hostname:"",a_record:"",quota:5,quota_unit:"GB",mailboxes:50,outbound_ip:"",email:""}),A=[{label:"GB",value:"GB"},{label:"MB",value:"MB"}],B={domain:{required:!0,trigger:["blur","input"],validator:()=>""!==f.domain.trim()||Error(t("domain.form.validation.domainRequired"))}},R=(e,t)=>{switch(t){case"GB":return 1024*e*1048576;case"MB":return 1024*e*1024;default:return e}},J=e=>{let t=m.value[0].match(/http:\/\/?/g),a=m.value[0].match(/https:\/\/?/g);t&&(m.value[0]=t[0]+e),a&&(m.value[0]=a[0]+e),t||a||(m.value[0]="https://"+e)},L=e=>{m.value.splice(e,1)},K=async()=>""==f.domain?void c.v0.error(t("domain.form.validation.domainInputRequired")):""==f.outbound_ip?void c.v0.error(t("domain.form.validation.dedicatedIpRequired")):void await (0,v.M7)({domain:f.domain,outbound_ip:f.outbound_ip}),[G,V]=(0,p.d)({onChangeState:async e=>{if(e){let e=V.getState();if(a.value=e.isEdit,o.value=(await (0,v.Lb)()).is_configured,e.row){let{row:t}=e;f.domain=t.domain,f.a_record=t.a_record,f.hostname=t.a_record;let a=(0,c.UO)(t.quota);f.quota=(0,c.Dx)(a.split(" ")[0]),f.quota_unit=a.split(" ")[1],f.mailboxes=t.mailboxes,f.email=t.email}}else f.domain="",f.a_record="",f.hostname="",f.quota=5,f.quota_unit="GB",f.mailboxes=50,f.email="",f.outbound_ip="",m.value=["https://"]},onConfirm:async()=>{var e;await (null==(e=s.value)?void 0:e.validate()),a.value?await (0,v.gK)({domain:f.domain,quota:R(f.quota,f.quota_unit),mailboxes:f.mailboxes,email:f.email,urls:m.value,outbound_ip:f.outbound_ip,hostname:f.hostname}):(await (0,v.Fj)({domain:f.domain,quota:R(f.quota,f.quota_unit),mailboxes:f.mailboxes,email:f.email,urls:m.value,hasbrandinfo:Number(r.value),outbound_ip:f.outbound_ip,hostname:f.hostname}),r.value?(await (0,v.rU)({domain:f.domain,urls:m.value}),l.value.open(f.domain),n.domainSource=f.domain):n.domainSource=""),V.getState().refresh()}});function Q(){H.Z.push({name:"AiModel"})}return(e,n)=>{let c=k.Z,p=b.ZP,v=x.Z,z=U.ZP,H=S.Z,Z=g.Z,R=u.ZP,V=y.Z,E=h.Z,X=w.Z,N=_.Z;return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d.Wm)((0,d.SU)(G),{title:(0,d.SU)(i),width:600},{default:(0,d.w5)(()=>[(0,d._)("div",C,[(0,d.Wm)(N,{ref_key:"formRef",ref:s,model:(0,d.SU)(f),rules:B},{default:(0,d.w5)(()=>[(0,d.Wm)(z,{path:"domain"},{label:(0,d.w5)(()=>[(0,d._)("div",q,[(0,d._)("span",null,(0,d.zw)((0,d.SU)(t)("domain.form.domain")),1),(0,d.Wm)(p,{trigger:"hover"},{trigger:(0,d.w5)(()=>n[8]||(n[8]=[(0,d._)("i",{class:"i-custom:help text-primary cursor-pointer"},null,-1)])),default:(0,d.w5)(()=>[(0,d.Wm)(c,null,{default:(0,d.w5)(()=>[(0,d._)("li",$,(0,d.zw)((0,d.SU)(t)("domain.form.tips.aRecordFailed")),1),(0,d._)("li",null,(0,d.zw)((0,d.SU)(t)("domain.form.tips.dnsSetup")),1),(0,d._)("li",null,(0,d.zw)((0,d.SU)(t)("domain.form.tips.cloudflare")),1)]),_:1})]),_:1})])]),default:(0,d.w5)(()=>[(0,d.Wm)(v,{value:(0,d.SU)(f).domain,"onUpdate:value":[n[0]||(n[0]=e=>(0,d.SU)(f).domain=e),J],disabled:(0,d.SU)(a),placeholder:(0,d.SU)(t)("domain.form.domainPlaceholder")},null,8,["value","disabled","placeholder"])]),_:1}),(0,d.Wm)(z,{label:(0,d.SU)(t)("domain.form.quota")},{default:(0,d.w5)(()=>[(0,d.Wm)(H,{value:(0,d.SU)(f).quota,"onUpdate:value":n[1]||(n[1]=e=>(0,d.SU)(f).quota=e),class:"flex-1",min:0,"show-button":!1},null,8,["value"]),(0,d._)("div",j,[(0,d.Wm)(Z,{value:(0,d.SU)(f).quota_unit,"onUpdate:value":n[2]||(n[2]=e=>(0,d.SU)(f).quota_unit=e),options:A},null,8,["value"])])]),_:1},8,["label"]),(0,d.Wm)(z,{label:(0,d.SU)(t)("domain.form.mailboxCount")},{default:(0,d.w5)(()=>[(0,d.Wm)(H,{value:(0,d.SU)(f).mailboxes,"onUpdate:value":n[3]||(n[3]=e=>(0,d.SU)(f).mailboxes=e),class:"flex-1",min:0,"show-button":!1},null,8,["value"])]),_:1},8,["label"]),(0,d.Wm)(z,{label:e.$t("domain.form.dedicatedIp")},{default:(0,d.w5)(()=>[(0,d._)("div",D,[(0,d.Wm)(v,{value:(0,d.SU)(f).outbound_ip,"onUpdate:value":n[4]||(n[4]=e=>(0,d.SU)(f).outbound_ip=e),placeholder:e.$t("domain.form.notSet")},null,8,["value","placeholder"])]),(0,d.Wm)(R,{type:"primary",ghost:"",onClick:K},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)(e.$t("domain.form.testConnection")),1)]),_:1})]),_:1},8,["label"]),(0,d.Wm)(z,{label:"Hostname",path:"hostname"},{default:(0,d.w5)(()=>[(0,d.Wm)(v,{value:(0,d.SU)(f).hostname,"onUpdate:value":n[5]||(n[5]=e=>(0,d.SU)(f).hostname=e),placeholder:e.$t("domain.form.notSet")},null,8,["value","placeholder"])]),_:1}),(0,d.Wm)(z,{label:(0,d.SU)(t)("domain.form.globalCatch")},{default:(0,d.w5)(()=>[(0,d.Wm)(v,{value:(0,d.SU)(f).email,"onUpdate:value":n[6]||(n[6]=e=>(0,d.SU)(f).email=e),placeholder:(0,d.SU)(t)("domain.form.globalCatchPlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,d.Wm)(X,null,{title:(0,d.w5)(()=>[(0,d._)("div",P,[n[9]||(n[9]=(0,d._)("i",{class:"i-domain:brand-info w-20px h-20px mr-6px"},null,-1)),(0,d._)("span",null,(0,d.zw)(e.$t("domain.form.createBrandInfo")),1)])]),default:(0,d.w5)(()=>[(0,d.Wm)(z,{"show-label":!1},{default:(0,d.w5)(()=>[(0,d.Wm)(V,{value:(0,d.SU)(r),"onUpdate:value":n[7]||(n[7]=e=>(0,d.dq)(r)?r.value=e:null),disabled:!(0,d.SU)(o)},null,8,["value","disabled"])]),_:1}),(0,d.SU)(o)?(0,d.kq)("",!0):((0,d.wg)(),(0,d.j4)(E,{key:0,class:"mb-16px",size:"small",type:"warning","show-icon":!1},{default:(0,d.w5)(()=>[(0,d._)("div",M,[(0,d._)("span",I,(0,d.zw)(e.$t("domain.form.modelNotice")),1),(0,d.Wm)(R,{type:"primary",size:"small",onClick:Q},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)(e.$t("domain.form.integrateImmediately")),1)]),_:1})])]),_:1})),(0,d._)("div",F,[n[10]||(n[10]=(0,d._)("span",null,[(0,d._)("i",{class:"i-domain:brand-info w-5 h-5 mr-4px"})],-1)),(0,d._)("span",null,(0,d.zw)(e.$t("domain.form.modelDescription")),1)]),(0,d.Wm)(c,{style:{"margin-bottom":"15px"}},{default:(0,d.w5)(()=>[(0,d._)("li",null,(0,d.zw)(e.$t("domain.form.extractBrand")),1),(0,d._)("li",null,(0,d.zw)(e.$t("domain.form.analyzeStructure")),1),(0,d._)("li",null,(0,d.zw)(e.$t("domain.form.importContent")),1),(0,d._)("li",null,(0,d.zw)(e.$t("domain.form.customLogo")),1)]),_:1}),(0,d.Wm)(z,{label:e.$t("domain.form.specifyDomain")},{default:(0,d.w5)(()=>[(0,d._)("div",T,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)((0,d.SU)(m),(e,a)=>((0,d.wg)(),(0,d.iD)("div",{key:a,class:"flex justify-start items-center gap-2.5"},[(0,d.Wm)(v,{value:(0,d.SU)(m)[a],"onUpdate:value":e=>(0,d.SU)(m)[a]=e,placeholder:(0,d.SU)(t)("domain.form.urlsPlacement"),disabled:!(0,d.SU)(o)},null,8,["value","onUpdate:value","placeholder","disabled"]),0!=a?((0,d.wg)(),(0,d.iD)("div",{key:0,class:"close",onClick:e=>L(a)},n[11]||(n[11]=[(0,d._)("i",{class:"i-material-symbols:close-rounded text-5"},null,-1)]),8,O)):(0,d.kq)("",!0)]))),128))])]),_:1},8,["label"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["title"]),(0,d.Wm)(W.Z,{ref_key:"waitAndCheckDomainStatusRef",ref:l},null,512)],64)}}});var B=a(41748);let R=(0,B.default)(A,[["__scopeId","data-v-2707abea"]]);var J=a(10320);let L=(0,d.aZ)({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){let t=(0,d.tT)(e,"value");return(e,a)=>{let l=J.Z;return(0,d.wg)(),(0,d.j4)(l,{value:t.value,"onUpdate:value":a[0]||(a[0]=e=>t.value=e),class:"bt-tabs h-full",type:"card",placement:"top"},{default:(0,d.w5)(()=>[(0,d.WI)(e.$slots,"default")]),_:3},8,["value"])}}}),K=(0,B.default)(L,[["__scopeId","data-v-53057eda"]]);var G=a(43751),V=a(60579);let Q={class:"ssl-cert-container"},E={class:"brand-info"},X={class:"info-label"},N={class:"info-value"},Y={class:"info-label"},ee={class:"info-value font-normal!"},et={class:"cert-content"},ea={class:"cert-section"},el={class:"section-title"},ei={class:"cert-section"},en={class:"section-title"},eo={class:"cert-actions"},es=(0,d.aZ)({__name:"OtherCert",props:{domain:{type:Object,required:!0},refresh:{type:Function,required:!0}},setup(e){let t=(0,d.iH)(!1),a=(0,d.iH)({subject:"",issuer:"",not_before:"",not_after:"",dns:[],endtime:0,key_pem:"",cert_pem:""}),l=(0,d.Fl)(()=>a.value.dns||[]),i=async()=>{try{t.value=!0;let l=await (0,v.Au)({domain:e.domain.domain});(0,c.Kn)(l)&&(a.value=l)}finally{t.value=!1}},n=async()=>{await (0,v.OV)({domain:e.domain.domain,key:a.value.key_pem,certificate:a.value.cert_pem}),i(),e.refresh()},o=async()=>{await (0,v.yW)({domain:e.domain.domain}),i(),e.refresh()};return a.value=e.domain.cert_info,(e,i)=>{let s=r.ZP,m=h.Z,c=x.Z,p=u.ZP,f=V.Z,v=k.Z;return(0,d.wg)(),(0,d.iD)("div",Q,[(0,d.Wm)(f,{show:(0,d.SU)(t)},{default:(0,d.w5)(()=>[(0,d.SU)(a).endtime>0?((0,d.wg)(),(0,d.j4)(m,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:(0,d.w5)(()=>[(0,d._)("div",E,[(0,d._)("div",X,(0,d.zw)(e.$t("domain.ssl.cert.brand"))+"：",1),(0,d._)("div",N,(0,d.zw)((0,d.SU)(a).issuer),1),(0,d._)("div",Y,(0,d.zw)(e.$t("domain.ssl.cert.domains"))+"：",1),(0,d._)("div",ee,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)((0,d.SU)(l),(e,t)=>((0,d.wg)(),(0,d.j4)(s,{key:t,size:"small"},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)(e),1)]),_:2},1024))),128))])])]),_:1})):(0,d.kq)("",!0),(0,d._)("div",et,[(0,d._)("div",ea,[(0,d._)("div",el,(0,d.zw)(e.$t("domain.ssl.cert.privateKey")),1),(0,d.Wm)(c,{value:(0,d.SU)(a).key_pem,"onUpdate:value":i[0]||(i[0]=e=>(0,d.SU)(a).key_pem=e),type:"textarea",placeholder:e.$t("domain.ssl.cert.keyPlaceholder"),rows:14,"input-props":{spellcheck:!1}},null,8,["value","placeholder"])]),(0,d._)("div",ei,[(0,d._)("div",en,(0,d.zw)(e.$t("domain.ssl.cert.certificate")),1),(0,d.Wm)(c,{value:(0,d.SU)(a).cert_pem,"onUpdate:value":i[1]||(i[1]=e=>(0,d.SU)(a).cert_pem=e),type:"textarea",placeholder:e.$t("domain.ssl.cert.certPlaceholder"),"input-props":{spellcheck:!1},rows:14},null,8,["value","placeholder"])])]),(0,d._)("div",eo,[(0,d.Wm)(p,{type:"primary",onClick:n},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)(e.$t("common.actions.save")),1)]),_:1}),(0,d.Wm)(p,{type:"primary",onClick:o},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)(e.$t("domain.ssl.actions.applyFree")),1)]),_:1})])]),_:1},8,["show"]),(0,d.Wm)(v,null,{default:(0,d.w5)(()=>[(0,d._)("li",null,(0,d.zw)(e.$t("domain.ssl.tips.paste")),1),(0,d._)("li",null,(0,d.zw)(e.$t("domain.ssl.tips.chainCheck")),1),(0,d._)("li",null,(0,d.zw)(e.$t("domain.ssl.tips.pemFormat")),1),(0,d._)("li",null,(0,d.zw)(e.$t("domain.ssl.tips.defaultSite")),1)]),_:1})])}}}),ed=(0,B.default)(es,[["__scopeId","data-v-bd7d6d60"]]),eu=(0,d.aZ)({__name:"index",setup(e){let t=(0,d.iH)("other"),a=(0,d.iH)(null),[l,i]=(0,p.d)({onChangeState:e=>{if(e){let{row:e}=i.getState();e&&(a.value=e)}}}),n=()=>{i.getState().refresh()};return(e,i)=>{let o=G.Z;return(0,d.wg)(),(0,d.j4)((0,d.SU)(l),{title:e.$t("domain.ssl.title"),width:650,footer:!1},{default:(0,d.w5)(()=>[(0,d.Wm)(K,{value:(0,d.SU)(t),"onUpdate:value":i[0]||(i[0]=e=>(0,d.dq)(t)?t.value=e:null)},{default:(0,d.w5)(()=>[(0,d.Wm)(o,{name:"other",tab:e.$t("domain.ssl.tabs.otherCertificate")},{default:(0,d.w5)(()=>[(0,d.SU)(a)?((0,d.wg)(),(0,d.j4)(ed,{key:0,domain:(0,d.SU)(a),refresh:n},null,8,["domain"])):(0,d.kq)("",!0)]),_:1},8,["tab"])]),_:1},8,["value"])]),_:1},8,["title"])}}});var er=a(35409),em=a(50039),ec=a(56357),ep=a(87075),ef=a(62198),ev=a(77984);let e_={class:"record-title"},ew={width:"140"},eh={width:"160"},ey={class:"record-title"},eg={class:"record-desc"},eS={width:"140"},eU={width:"160"},ex={class:"record-title"},eb={class:"record-desc"},ek={width:"140"},eW={width:"160"},ez={class:"record-title"},eH={class:"record-desc"},eZ={class:"record-desc"},eC={class:"flex justify-center mt-24px"},eq=(0,d.aZ)({__name:"DomainDns",setup(e){let{t}=(0,Z.QT)(),{copyText:a}=(0,ev.F)(),l=(0,d.iH)([]),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return l.value.length>0?l.value[0].dns_records[e][t]:""},o=(0,d.Fl)(()=>i("dkim")),s=(0,d.Fl)(()=>i("a")),r=(0,d.Fl)(()=>i("a","host")),m=(0,d.Fl)(()=>i("mx")),f=(0,d.Fl)(()=>i("mx","host")),_=(0,d.Fl)(()=>i("dmarc")),w=(0,d.Fl)(()=>i("spf")),h=e=>{let{status:a}=e;return(0,d.Wm)("div",{class:["inline-flex items-center",a?"text-primary":"text-error"]},[(0,d.Wm)(ec.g,{size:"16"},{default:()=>[a?(0,d.Wm)(ep.Z,null,null):(0,d.Wm)(ef.Z,null,null)]}),(0,d.Wm)("span",{class:"ml-4px"},[a?t("domain.dns.status.ok"):t("domain.dns.status.notSet")])])},y=(0,d.iH)([{key:"domain",title:t("domain.dns.columns.domain"),width:"20%",ellipsis:{tooltip:!0}},{key:"mx",title:"MX",render:e=>{let t=e.dns_records.mx;return(0,d.Wm)(h,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"a",title:"A record",render:e=>{let t=e.dns_records.a;return(0,d.Wm)(h,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"spf",title:"SPF",render:e=>{let t=e.dns_records.spf;return(0,d.Wm)(h,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"dkim",title:"DKIM",render:e=>{let t=e.dns_records.dkim;return(0,d.Wm)(h,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"dmarc",title:"DMARC",render:e=>{let t=e.dns_records.dmarc;return(0,d.Wm)(h,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"ptr",title:"PTR",render:e=>{let t=e.dns_records.ptr;return(0,d.Wm)(h,{status:(null==t?void 0:t.valid)||!1},null)}}]),g=async()=>{let e=await (0,v.v1)({domain:l.value[0].domain});(0,c.Kn)(e)&&(l.value[0].dns_records=e);let{refresh:t}=U.getState();t()},[S,U]=(0,p.d)({onChangeState:e=>{if(e){let{row:e}=U.getState();e&&(l.value=[e])}}});return(e,i)=>{let c=n.Z,p=em.Z,v=er.ZP,h=u.ZP;return(0,d.wg)(),(0,d.j4)((0,d.SU)(S),{title:(0,d.SU)(t)("domain.dns.title"),width:750,footer:!1},{default:(0,d.w5)(()=>[(0,d._)("div",null,[(0,d.Wm)(c,{size:"small",class:"mb-20px",data:(0,d.SU)(l),columns:(0,d.SU)(y)},null,8,["data","columns"]),(0,d._)("div",e_,(0,d.zw)((0,d.SU)(t)("domain.dns.step1.title")),1),(0,d.Wm)(p,{size:"small",class:"mb-24px"},{default:(0,d.w5)(()=>[(0,d._)("thead",null,[(0,d._)("tr",null,[(0,d._)("th",ew,(0,d.zw)((0,d.SU)(t)("domain.dns.table.recordType")),1),(0,d._)("th",eh,(0,d.zw)((0,d.SU)(t)("domain.dns.table.host")),1),(0,d._)("th",null,(0,d.zw)((0,d.SU)(t)("domain.dns.table.value")),1)])]),(0,d._)("tbody",null,[(0,d._)("tr",null,[i[3]||(i[3]=(0,d._)("td",null,"A",-1)),(0,d._)("td",null,(0,d.zw)((0,d.SU)(r)),1),(0,d._)("td",null,(0,d.zw)((0,d.SU)(s)),1)])])]),_:1}),(0,d._)("div",ey,(0,d.zw)((0,d.SU)(t)("domain.dns.step2.title")),1),(0,d._)("div",eg,(0,d.zw)((0,d.SU)(t)("domain.dns.step2.description")),1),(0,d.Wm)(p,{size:"small",class:"mb-24px"},{default:(0,d.w5)(()=>[(0,d._)("thead",null,[(0,d._)("tr",null,[(0,d._)("th",eS,(0,d.zw)((0,d.SU)(t)("domain.dns.table.recordType")),1),(0,d._)("th",eU,(0,d.zw)((0,d.SU)(t)("domain.dns.table.host")),1),(0,d._)("th",null,(0,d.zw)((0,d.SU)(t)("domain.dns.table.value")),1),(0,d._)("th",null,(0,d.zw)((0,d.SU)(t)("domain.dns.table.mxPriority")),1)])]),(0,d._)("tbody",null,[(0,d._)("tr",null,[i[4]||(i[4]=(0,d._)("td",null,"MX",-1)),(0,d._)("td",null,(0,d.zw)((0,d.SU)(f)),1),(0,d._)("td",null,(0,d.zw)((0,d.SU)(m)),1),i[5]||(i[5]=(0,d._)("td",null,"10",-1))])])]),_:1}),(0,d._)("div",ex,(0,d.zw)((0,d.SU)(t)("domain.dns.step3.title")),1),(0,d._)("div",eb,(0,d.zw)((0,d.SU)(t)("domain.dns.step3.description")),1),(0,d.Wm)(p,{size:"small",class:"mb-24px"},{default:(0,d.w5)(()=>[(0,d._)("thead",null,[(0,d._)("tr",null,[(0,d._)("th",ek,(0,d.zw)((0,d.SU)(t)("domain.dns.table.recordType")),1),(0,d._)("th",eW,(0,d.zw)((0,d.SU)(t)("domain.dns.table.host")),1),(0,d._)("th",null,(0,d.zw)((0,d.SU)(t)("domain.dns.table.value")),1)])]),(0,d._)("tbody",null,[(0,d._)("tr",null,[i[6]||(i[6]=(0,d._)("td",null,"TXT",-1)),i[7]||(i[7]=(0,d._)("td",null,"@",-1)),(0,d._)("td",null,[(0,d.Wm)(v,{class:"mr-4px max-w-320px!"},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)((0,d.SU)(w)),1)]),_:1}),(0,d.Wm)(h,{text:"",type:"primary",onClick:i[0]||(i[0]=()=>(0,d.SU)(a)((0,d.SU)(w)))},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)((0,d.SU)(t)("common.actions.copy")),1)]),_:1})])]),(0,d._)("tr",null,[i[8]||(i[8]=(0,d._)("td",null,"TXT",-1)),i[9]||(i[9]=(0,d._)("td",null,"default._domainkey",-1)),(0,d._)("td",null,[(0,d.Wm)(v,{class:"mr-4px max-w-320px!"},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)((0,d.SU)(o)||"--"),1)]),_:1}),(0,d.SU)(o)?((0,d.wg)(),(0,d.j4)(h,{key:0,text:"",type:"primary",onClick:i[1]||(i[1]=()=>(0,d.SU)(a)((0,d.SU)(o)))},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)((0,d.SU)(t)("common.actions.copy")),1)]),_:1})):(0,d.kq)("",!0)])]),(0,d._)("tr",null,[i[10]||(i[10]=(0,d._)("td",null,"TXT",-1)),i[11]||(i[11]=(0,d._)("td",null,"_dmarc",-1)),(0,d._)("td",null,[(0,d.Wm)(v,{class:"mr-4px max-w-320px!"},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)((0,d.SU)(_)),1)]),_:1}),(0,d.SU)(_)?((0,d.wg)(),(0,d.j4)(h,{key:0,text:"",type:"primary",onClick:i[2]||(i[2]=()=>(0,d.SU)(a)((0,d.SU)(_)))},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)((0,d.SU)(t)("common.actions.copy")),1)]),_:1})):(0,d.kq)("",!0)])])])]),_:1}),(0,d._)("div",ez,(0,d.zw)((0,d.SU)(t)("domain.dns.step4.title")),1),(0,d._)("div",eH,(0,d.zw)((0,d.SU)(t)("domain.dns.step4.description1")),1),(0,d._)("div",eZ,(0,d.zw)((0,d.SU)(t)("domain.dns.step4.description2")),1)]),(0,d._)("div",eC,[(0,d.Wm)(h,{type:"primary",onClick:g},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)((0,d.SU)(t)("domain.dns.verify")),1)]),_:1})])]),_:1},8,["title"])}}}),e$=(0,B.default)(eq,[["__scopeId","data-v-8094e116"]]);var ej=a(49247);let eD={class:"inline-flex items-center text-16px"},eP={key:0,class:"i-tdesign:check-circle-filled text-primary"},eM={key:1,class:"inline-flex flex-center w-16px h-16px bg-error rounded-full"},eI={key:2,class:"i-tdesign:time-filled text-desc"},eF=(0,d.aZ)({__name:"IpStatus",props:{status:{type:String,default:"pending"}},setup:e=>(t,a)=>{let l=V.Z;return(0,d.wg)(),(0,d.iD)("div",eD,["applied"===e.status?((0,d.wg)(),(0,d.iD)("i",eP)):(0,d.kq)("",!0),"failed"===e.status?((0,d.wg)(),(0,d.iD)("div",eM,a[0]||(a[0]=[(0,d._)("i",{class:"i-fa-solid:unlink text-#fff text-10px"},null,-1)]))):(0,d.kq)("",!0),"pending"===e.status?((0,d.wg)(),(0,d.iD)("i",eI)):(0,d.kq)("",!0),"applying"===e.status?((0,d.wg)(),(0,d.j4)(l,{key:3,show:!0,size:16})):(0,d.kq)("",!0)])}}),eT={class:"pt-16px px-16px text-basic"},eO={class:"flex justify-between items-center mb-16px"},eA={class:"flex items-center"},eB={class:"flex items-center"},eR={class:"flex justify-center gap-16px"},eJ={class:"flex justify-center"},eL=(0,d.aZ)({__name:"DomainIpSet",setup(e){let{t}=(0,Z.QT)(),a=(0,d.iH)(""),l=(0,d.iH)(""),i=(0,d.iH)(""),n=(0,d.Fl)(()=>"failed"===i.value?"failed":"applied"),o=(0,d.Fl)(()=>"applied"===i.value?"applied":"failed"),s=(0,d.Fl)(()=>a.value?t("domain.ipSet.titleWithDomain",{domain:a.value}):t("domain.ipSet.title")),r=(0,d.iH)(!1),m=(0,d.iH)(!1),f=(0,d.iH)(""),_=(0,d.iH)(""),w=async()=>{try{r.value=!0;let e=await (0,v.qt)();(0,c.Kn)(e)&&(f.value=e.command,_.value=e.fix_command,m.value=!0)}finally{r.value=!1}},y=(0,d.iH)(!1),{copyText:g}=(0,ev.F)(),S=()=>{if(!m.value)return void c.v0.error(t("domain.ipSet.validation.getCommandFirst"));g(f.value,!1),y.value=!0},[U,x]=(0,p.d)({onChangeState:e=>{if(e){var t,n;let{row:e}=x.getState();a.value=e.domain,l.value=(null==(t=e.multi_ip_domains)?void 0:t.outbound_ip)||"",i.value=(null==(n=e.multi_ip_domains)?void 0:n.status)||""}}});return(e,t)=>{let a=h.Z,i=V.Z,m=u.ZP,c=ej.Z;return(0,d.wg)(),(0,d.j4)((0,d.SU)(U),{title:(0,d.SU)(s),width:500,footer:!1},{default:(0,d.w5)(()=>[(0,d._)("div",eT,[(0,d._)("div",eO,[(0,d._)("div",null,(0,d.zw)(e.$t("domain.ipSet.dedicatedIp"))+(0,d.zw)((0,d.SU)(l)),1),(0,d._)("div",eA,[(0,d.Uk)((0,d.zw)(e.$t("domain.ipSet.configFile"))+" ",1),(0,d.Wm)(eF,{status:(0,d.SU)(n)},null,8,["status"])]),(0,d._)("div",eB,[(0,d.Uk)((0,d.zw)(e.$t("domain.ipSet.connectionStatus"))+" ",1),(0,d.Wm)(eF,{status:(0,d.SU)(o)},null,8,["status"])])]),(0,d.Wm)(a,{class:"mb-16px",type:"warning","show-icon":!1,bordered:!1},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)(e.$t("domain.ipSet.warning")),1)]),_:1}),(0,d.Wm)(i,{size:"small",show:(0,d.SU)(r)},{default:(0,d.w5)(()=>[(0,d.Wm)(a,{class:"command-alert mb-16px","show-icon":!1,bordered:!1},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)((0,d.SU)(f)||"--"),1)]),_:1})]),_:1},8,["show"]),(0,d._)("div",eR,[(0,d.Wm)(m,{type:"primary",loading:(0,d.SU)(r),disabled:(0,d.SU)(r),onClick:w},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)(e.$t("domain.ipSet.getCommand")),1)]),_:1},8,["loading","disabled"]),(0,d.Wm)(m,{onClick:S},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)(e.$t("domain.ipSet.copyCommand")),1)]),_:1})])]),(0,d.Wm)(c,{show:(0,d.SU)(y),"onUpdate:show":t[1]||(t[1]=e=>(0,d.dq)(y)?y.value=e:null),width:420,title:e.$t("domain.ipSet.operationReminder"),footer:!1},{default:(0,d.w5)(()=>[(0,d.Wm)(a,{class:"mb-16px",type:"warning","show-icon":!1,bordered:!1},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)(e.$t("domain.ipSet.fixCommandTip")),1),t[2]||(t[2]=(0,d._)("br",null,null,-1)),(0,d.Uk)('"'+(0,d.zw)((0,d.SU)(_))+'" ',1)]),_:1,__:[2]}),(0,d._)("div",eJ,[(0,d.Wm)(m,{type:"primary",onClick:t[0]||(t[0]=e=>y.value=!1)},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)(e.$t("domain.ipSet.understood")),1)]),_:1})])]),_:1},8,["show","title"])]),_:1},8,["title"])}}}),eK=(0,B.default)(eL,[["__scopeId","data-v-27e6c7c6"]]);var eG=a(65965);let eV={class:"p-24px"},eQ={class:"bt-title"};function eE(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,d.lA)(e)}let eX=(0,d.aZ)({__name:"index",setup(e){let{t}=(0,Z.QT)(),{tableParams:a,tableList:_,loading:w,tableTotal:h,getTableData:y}=(0,f.Z)({immediate:!0,params:{page:1,page_size:10,keyword:""},fetchFn:v.i7}),g=(0,eG.yj)(),S=(0,eG.tv)(),U=(0,d.iH)([{key:"domain",title:t("domain.columns.domain"),minWidth:130,ellipsis:{tooltip:!0},render:e=>{let a;return(0,d.Wm)("div",{class:"inline-flex items-center"},[1==e.hasbrandinfo&&(0,d.Wm)("i",{class:"i-domain:brand-info w-4 h-4 mr-4px"},null),(0,d.Wm)(u.ZP,{text:!0,type:"primary",onClick:()=>D(e)},{default:()=>[e.domain]}),1===e.default&&(0,d.Wm)(r.ZP,{size:"small",class:"ml-8px",bordered:!1},eE(a=t("domain.status.default"))?a:{default:()=>[a]})])}},{key:"quota",title:t("domain.columns.quota"),render:e=>(0,c.UO)(e.quota)},{key:"mailboxes",title:t("domain.columns.mailboxes")},{key:"mailbox_quota",title:t("domain.columns.defaultMailboxSize"),render:e=>(0,c.UO)(e.mailbox_quota)},{key:"multi_ip_domains",title:t("domain.columns.dedicatedIp"),render:e=>e.multi_ip_domains?(0,d.Wm)("div",{class:"flex items-center cursor-pointer",onClick:()=>{I(e)}},[(0,d.Wm)("span",{class:"leading-14px mr-6px"},[e.multi_ip_domains.outbound_ip]),(0,d.Wm)(eF,{status:e.multi_ip_domains.status},null)]):"--"},{key:"ssl",title:"SSL",render:e=>{let a;if(e.cert_info&&e.cert_info.endtime){let a=Math.floor((1e3*e.cert_info.endtime-Date.now())/1e3/60/60/24);return(0,d.Wm)(u.ZP,{type:a<0?"error":"primary",text:!0,onClick:()=>{H(e)}},{default:()=>[a<0?t("domain.ssl.expired"):t("domain.ssl.daysLeft",{days:a})]})}return(0,d.Wm)(u.ZP,{type:"warning",text:!0,onClick:()=>{H(e)}},eE(a=t("domain.ssl.notSet"))?a:{default:()=>[a]})}},{title:t("domain.columns.actions"),key:"actions",align:"right",width:260,render:e=>{let a,l,i,n;return(0,d.Wm)(m.Z,{inline:!0},{default:()=>[(0,d.Wm)(u.ZP,{type:"primary",text:!0,onClick:()=>{$(e)}},eE(a=t("domain.actions.dnsRecord"))?a:{default:()=>[a]}),(0,d.Wm)(u.ZP,{type:"primary",text:!0,onClick:()=>{D(e)}},eE(l=t("common.actions.edit"))?l:{default:()=>[l]}),(0,d.Wm)(u.ZP,{type:"primary",text:!0,disabled:1===e.default,onClick:()=>{j(e)}},eE(i=t("domain.actions.setDefault"))?i:{default:()=>[i]}),(0,d.Wm)(u.ZP,{type:"error",text:!0,onClick:()=>{F(e)}},eE(n=t("common.actions.delete"))?n:{default:()=>[n]})]})}}]),[x,b]=(0,p.d)({component:R,state:{isEdit:!1,refresh:y}}),k=()=>{b.setState({row:null,isEdit:!1}),b.open()},[W,z]=(0,p.d)({component:eu,state:{refresh:y}}),H=e=>{z.setState({row:e}),z.open()},[C,q]=(0,p.d)({component:e$,state:{refresh:y}}),$=e=>{q.setState({row:e}),q.open()},j=e=>{(0,c.iG)({title:t("domain.setDefault.title",{domain:e.domain}),content:t("domain.setDefault.confirm"),onConfirm:async()=>{await (0,v.xh)({domain:e.domain}),y()}})},D=e=>{S.push({name:"EditDomain",params:{domain:e.domain}})},[P,M]=(0,p.d)({component:eK}),I=e=>{M.setState({row:e}),M.open()},F=e=>{(0,c.iG)({title:t("domain.delete.title"),content:t("domain.delete.confirm",{domain:e.domain}),confirmText:t("common.actions.delete"),confirmType:"error",onConfirm:async()=>{await (0,v.dj)({domain:e.domain}),y()}})},T=(0,d.iH)("");return(0,d.bv)(()=>{T.value=g.query.init,"init-domain"===T.value&&k()}),(e,r)=>{let m=s.Z,c=o.Z,p=n.Z,f=i.Z,v=l.Z;return(0,d.wg)(),(0,d.iD)("div",eV,[(0,d._)("div",eQ,(0,d.zw)((0,d.SU)(t)("layout.menu.domain")),1),(0,d.Wm)(v,null,{toolsLeft:(0,d.w5)(()=>[(0,d.Wm)((0,d.SU)(u.ZP),{type:"primary",onClick:k},{default:(0,d.w5)(()=>[(0,d.Uk)((0,d.zw)((0,d.SU)(t)("domain.addDomain")),1)]),_:1}),(0,d.Wm)(m,{href:"https://www.billionmail.com/start/domain.html",text:(0,d.SU)(t)("domain.help")},null,8,["text"])]),table:(0,d.w5)(()=>[(0,d.Wm)(p,{loading:(0,d.SU)(w),columns:(0,d.SU)(U),data:(0,d.SU)(_)},{empty:(0,d.w5)(()=>[(0,d.Wm)(c)]),_:1},8,["loading","columns","data"])]),pageRight:(0,d.w5)(()=>[(0,d.Wm)(f,{page:(0,d.SU)(a).page,"onUpdate:page":r[0]||(r[0]=e=>(0,d.SU)(a).page=e),"page-size":(0,d.SU)(a).page_size,"onUpdate:pageSize":r[1]||(r[1]=e=>(0,d.SU)(a).page_size=e),"item-count":(0,d.SU)(h),onRefresh:(0,d.SU)(y)},null,8,["page","page-size","item-count","onRefresh"])]),modal:(0,d.w5)(()=>[(0,d.Wm)((0,d.SU)(x)),(0,d.Wm)((0,d.SU)(W)),(0,d.Wm)((0,d.SU)(C)),(0,d.Wm)((0,d.SU)(P))]),_:1})])}}}),eN=(0,B.default)(eX,[["__scopeId","data-v-2c3e8a15"]])}}]);