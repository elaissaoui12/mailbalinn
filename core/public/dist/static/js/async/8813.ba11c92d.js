"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["8813"],{85303:function(a,t,e){e.r(t),e.d(t,{default:()=>g});var i=e(73084),l=e(15496),s=e(57869),n=e(58786),c=e(34541),u=e(16634),o=e(42205);async function p(a){let{sitemap:t,hasGotSitemap:e}=(0,o.J)();if(!e.value)try{let i=await c.e.post("/askai/project/get_sitemap",{domain:a});t.value=0==i.length?[{title:"",uri_path:""}]:i.map(a=>(a.isSaved=!0,a)),e.value=!0}catch(a){console.warn(a)}}async function r(a,t,e){try{await c.e.post("/askai/project/add_sitemap_node",{domain:a,title:t,uri_path:e},u.uL)}catch(a){console.warn(a)}}async function d(a,t){try{await c.e.post("/askai/project/remove_sitemap_node",{domain:a,uri_path:t},u.uL)}catch(a){console.warn(a)}}var _=e(65965);let v={class:"content-wrapper"},m={class:"page-tit"},f={class:"left-tit"},w={class:"tit-content"},h={class:"mb-5"},k={class:"inline-form-items"},y=["onClick"],b=["onClick"],C=(0,n.aZ)({__name:"Sitemap",setup(a){let{sitemap:t}=(0,o.J)(),e=(0,_.yj)().params.domain;async function c(a,i){await r(e,a.title,a.uri_path),t.value[i].isSaved=!0}async function u(a,i){a.title&&a.uri_path&&await d(e,a.uri_path),t.value.splice(i,1)}function C(){t.value.push({title:"",uri_path:""})}return p(e),(a,e)=>{let o=s.ZP,p=l.ZP,r=i.Z;return(0,n.wg)(),(0,n.iD)("div",v,[(0,n.Wm)(o,{class:"mb-5"},{default:(0,n.w5)(()=>[(0,n._)("div",m,[(0,n._)("div",f,[e[0]||(e[0]=(0,n._)("div",{class:"back-tool"},[(0,n._)("i",{class:"i-ri:apps-fill text-6"})],-1)),(0,n._)("span",w,(0,n.zw)(a.$t("domain.edit.sitemap.title")),1)])])]),_:1}),(0,n.Wm)(o,null,{default:(0,n.w5)(()=>[(0,n._)("div",h,[(0,n.Wm)(p,{type:"primary",onClick:C},{default:(0,n.w5)(()=>[(0,n.Uk)((0,n.zw)(a.$t("domain.edit.sitemap.addLink")),1)]),_:1})]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,n.SU)(t),(a,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"mb-2.5"},[(0,n._)("div",k,[(0,n.Wm)(r,{value:a.title,"onUpdate:value":t=>a.title=t,class:"name"},null,8,["value","onUpdate:value"]),(0,n.Wm)(r,{value:a.uri_path,"onUpdate:value":t=>a.uri_path=t,class:"url"},null,8,["value","onUpdate:value"]),(0,n._)("div",{class:"operation close",onClick:e=>u(a,t)},e[1]||(e[1]=[(0,n._)("i",{class:"i-material-symbols:close-rounded text-5"},null,-1)]),8,y),(0,n._)("div",{class:(0,n.C_)(["operation",{save:a.title&&a.uri_path},{disabled:!a.title||!a.uri_path}]),onClick:e=>c(a,t)},e[2]||(e[2]=[(0,n._)("i",{class:"i-mingcute:save-2-line text-5"},null,-1)]),10,b)])]))),128))]),_:1})])}}}),g=(0,e(41748).default)(C,[["__scopeId","data-v-6537ae30"]])}}]);